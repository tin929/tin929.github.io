System.register(["./chunk-vendor.js","./chunk-tip.js","./chunk-line.js","./chunk-frameworks.js","./chunk-array.js"],(function(){"use strict";var t,a,e,s,r,n,o,c,i,l,d,p,u,m,f,h;return{setters:[function(s){t=s._,a=s.t,e=s.c},function(t){s=t.z,r=t.s,n=t.m,o=t.h,c=t.g,i=t.j},function(t){l=t.e,d=t.b,p=t.l},function(t){u=t.m,m=t.aX},function(t){f=t.u,h=t.t}],execute:function(){const g=u((async function(t){const a=await m(t,{headers:{accept:"application/json"}});return await a}));let y=class CommunityContributionsGraphElement extends HTMLElement{async connectedCallback(){const t=this.graph,a=t.getAttribute("data-url");if(a){t.classList.add("is-graph-loading"),t.classList.remove("is-graph-load-error","is-graph-empty");try{const e=await g(a);t.classList.remove("is-graph-loading");const s=await e.json();new ResizeObserver((a=>{for(const e of t.querySelectorAll("svg.viz"))e.remove();for(const e of a)e.target===t&&x(t,s)})).observe(t)}catch(e){if(t.classList.remove("is-graph-loading"),404!==e.response.status)throw t.classList.add("is-graph-load-error"),e;t.classList.add("is-graph-empty")}}}};function x(t,a){const e=t.clientWidth,u=t.clientHeight,m=50,g=20,y=40,x=50,k=e-x-g,v=u-m-y,b=f("%B %-d %Y"),$=f("%-m/%-d"),w=s().attr("class","svg-tip").offset([-10,0]).html((function(t){return`<strong>${b(t.date)}</strong><br>${t.value} ${t.type} created`})),j=r(t).append("svg").attr("class","viz").attr("width",e).attr("height",u).attr("alt","A graph of added discussions, issues, and pull requests on this repository").attr("aria-describedby","community-contributions-description").append("g").attr("transform",`translate(${x},${m})`).call(w);let z="";for(const s of a){z+=`${s.name}: `;for(const t of s.data)z+=`${t.value} on ${$(t.date)} `}j.append("div").attr("text",z).attr("style","display: none;").attr("id","community-contributions-description");for(const s of a)j.append("line").attr("x1",g+s.delta).attr("y1",-m/2).attr("x2",g+16+s.delta).attr("y2",-m/2).attr("class",s.class),j.append("text").attr("x",g+21+s.delta).attr("y",-m/2+5).attr("class","legend-text").text(s.name);const[L,S]=l(a[0].data,(t=>t.date));let A=0;for(const s of a)A=Math.max(n(s.data,(t=>t.value))||-1/0,A);const C=a[0].data.map((t=>t.date)),F=d().domain([L,S]).range([0,k]);j.append("g").attr("transform",`translate(0, ${v})`).attr("class","tick-labels-x").call(o(F).tickSize(0).tickValues(C).tickFormat(h("%-m/%-d")));const q=c().domain([0,A]).range([v,0]);j.append("g").attr("class","tick-labels-y").call(i(q).ticks(4).tickSize(0)),j.append("g").attr("class","tick-y").call(i(q).ticks(4).tickSize(-k).tickFormat((()=>""))),j.append("g").attr("class","tick-x").attr("transform",`translate(0,${v})`).call(o(F).tickValues(C.slice(0,-1)).tickSize(-v).tickFormat((()=>""))),j.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",k/2).attr("y",u-m).text("Timeline"),j.append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("x",-v/2).attr("y",-y-10).attr("dy","0.71em").style("text-anchor","middle").text("Quantity");for(const s of a)j.append("path").datum(s.data).attr("class",s.class).attr("d",p().x((function(t){return F(t.date)})).y((function(t){return q(t.value)})));for(const s of a)j.append("g").selectAll("dot").data(s.data).enter().append("circle").attr("cx",(function(t){return F(t.date)})).attr("cy",(function(t){return q(t.value)})).attr("r",5).attr("class",s.class).on("mouseover",w.show).on("mouseout",w.hide)}t([a],y.prototype,"graph",void 0),y=t([e],y)}}}));
//# sourceMappingURL=chunk-community-contributions-45843cd5.js.map
