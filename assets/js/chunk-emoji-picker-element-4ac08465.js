System.register(["./chunk-vendor.js"],(function(e){"use strict";var t,o,r;return{setters:[function(e){t=e._,o=e.t,r=e.c}],execute:function(){let i=e("EmojiPickerElement",class EmojiPickerElement extends HTMLElement{open(){var e;this.hidden=!1,null===(e=this.filterInput)||void 0===e||e.focus(),document.addEventListener("keydown",n),document.addEventListener("click",l)}close(){this.hidden=!0,document.removeEventListener("keydown",n),document.removeEventListener("click",l)}disonnectedCallback(){document.removeEventListener("keydown",n)}reset(){const e=this.querySelector(".js-original-emoji-category"),t=this.querySelector(".js-original-emoji-category-tab"),o=this.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]'),r=s(this),i=this.querySelector(".js-originally-selected-emoji");if(i){const e=this.querySelector(".selected-emoji");e&&e.classList.remove("selected-emoji"),i.classList.add("selected-emoji")}null==o||o.removeAttribute("aria-selected"),null==e||e.setAttribute("aria-selected","true"),r.hidden=!0,t.hidden=!1,this.clear()}clear(){this.filterInput&&(this.filterInput.value=""),this.emojiList.setAttribute("value",""),this.filterTabButton.hidden=!0}filter(e){const t=e.currentTarget;this.emojiList.setAttribute("value",t.value);const o=this.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]');if(o.hasAttribute("data-emoji-picker-filter-tab-button")||o.classList.add("emoji-picker-prior-selected-tab-button"),t.value){this.filterTabButton.hidden=!1;"true"===this.filterTabButton.getAttribute("aria-selected")||(this.filterTabButton.click(),t.focus())}else{this.filterTabButton.hidden=!0;const e=this.querySelector(".emoji-picker-prior-selected-tab-button");e&&e.click()}}onFuzzyListSorted(e){const t=Number(e.detail)>0;this.noResults.hidden=t,this.emojiList.hidden=!t,this.resultsHeader.hidden=!t}});function s(e){const t=e.querySelectorAll('[role="tablist"] [role="tab"]'),o=e.querySelector('[role="tablist"] [role="tab"][aria-selected="true"]');return e.querySelectorAll('[role="tabpanel"]')[Array.from(t).indexOf(o)]}function n(e){if(!(e.target instanceof HTMLElement))return;const t=e.target.closest(".js-emoji-picker");if(t&&t instanceof HTMLElement&&!t.hidden)switch(e.key){case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"ArrowDown":e.preventDefault(),function(e,t){const o=s(e),r=Array.from(o.querySelectorAll(".js-emoji-button")),i=o.querySelector(".selected-emoji.js-emoji-button"),n=function(e){let t,o=0;const r=e[0].getBoundingClientRect().top;for(const i of e){if(t=i.getBoundingClientRect(),r<t.top)break;o+=1}return o}(r),l=function(e,t){const o=[[]];let r=0;for(let i=0;i<e.length;i++){const s=e[i];i>0&&i%t==0&&(r+=1,o.push([])),o[r].push(s)}return o}(r,n);let c=0,a=0;if(i){const e=function(e,t){let o=0,r=0,i=[],s=-1;for(let n=0;n<e.length;n++){if(i=e[n],s=i.indexOf(t),s>-1){r=s;break}o+=1}return{row:o,col:r}}(l,i);switch(c=e.row,a=e.col,i.classList.remove("selected-emoji"),t){case"ArrowRight":a+=1;break;case"ArrowDown":c+=1;break;case"ArrowLeft":a-=1;break;case"ArrowUp":c-=1}}const u=l.length-1,d=a>l[u].length-1,h=c===u;c<0?(c=u,d&&(c-=1)):(c>u||h&&d&&"ArrowDown"===t)&&(c=0);const f=l[c].length-1;a<0?a=f:a>f&&(a=0);const m=l[c][a];m.classList.add("selected-emoji"),m.focus()}(t,e.key)}}function l(e){let t=e.target;"closest"in t||(t=t.parentNode);const o=t.closest("emoji-picker");for(const r of document.querySelectorAll("emoji-picker"))r!==o&&r.close()}t([o],i.prototype,"emojiList",void 0),t([o],i.prototype,"filterTabButton",void 0),t([o],i.prototype,"noResults",void 0),t([o],i.prototype,"resultsHeader",void 0),t([o],i.prototype,"filterInput",void 0),i=e("EmojiPickerElement",t([r],i))}}}));
//# sourceMappingURL=chunk-emoji-picker-element-8db59d60.js.map
