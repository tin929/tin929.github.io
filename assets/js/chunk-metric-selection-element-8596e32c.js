System.register(["./chunk-vendor.js"],(function(e){"use strict";var t,s,i;return{setters:[function(e){t=e._,s=e.b,i=e.c}],execute:function(){let c=class MetricSelectionElement extends HTMLElement{connectedCallback(){this.addEventListener("keydown",this.handleKeydown)}setTabIndex(e){for(const t of this.choiceElements)t.tabIndex=t===e?0:-1}handleKeydown(e){if(e.key.startsWith("Arrow")){const t=e.target;let s=t;switch(e.key){case"ArrowRight":case"ArrowDown":s=t.nextElementSibling;break;case"ArrowLeft":case"ArrowUp":s=t.previousElementSibling}s&&(this.selectedValue||this.setTabIndex(s),s.focus(),e.preventDefault())}}getChoiceValue(e){return e.getAttribute("data-value")}get metricCode(){return this.getAttribute("data-metric-code")}get selectedValue(){return this.getAttribute("data-selected-value")}set selectedValue(e){e&&this.setAttribute("data-selected-value",e)}deleteSelectedValue(){this.removeAttribute("data-selected-value")}deselect(){const e=this.choiceElements.find((e=>e.classList.contains("selected")));e&&(e.classList.remove("selected","btn-outline"),e.setAttribute("aria-checked","false"),e.tabIndex=-1),this.deleteSelectedValue()}select(e){const t=this.getChoiceValue(e),s=this.selectedValue;if(t!==s){if(s)this.deselect();else{const e=this.choiceElements.find((e=>e.tabIndex>=0));e&&(e.tabIndex=-1)}e.classList.add("selected","btn-outline"),e.setAttribute("aria-checked","true"),e.tabIndex=0,this.selectedValue=t}}selectFromClick(e){this.select(e.target),this.dispatchEvent(new CustomEvent("metricSelectionChange"))}selectFromCode(e){if(this.selectedValue===e)return;const t=this.choiceElements.find((t=>this.getChoiceValue(t)===e));if(!t)return this.deselect(),void(this.choiceElements[0].tabIndex=0);this.select(t)}};t([s],c.prototype,"choiceElements",void 0),c=t([i],c);e("default",c)}}}));
//# sourceMappingURL=chunk-metric-selection-element-5fec0062.js.map
